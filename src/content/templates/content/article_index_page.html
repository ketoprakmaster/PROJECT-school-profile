{% extends "base.html" %}
{% load wagtailcore_tags cotton %}

{% block content %}
<section >
    {% for block in page.body %}
        {% include_block block %}
    {% endfor %}
</section>


<section class="container mx-auto p-5 md:p-20 max-w-6xl">

    <form method="get" class="mb-8 flex gap-5 items-center">
        <input
            type="text"
            name="q"
            placeholder="Search articles…"
            value="{{ query|default:'' }}"
            class="input input-bordered flex-1"
        >
        <button class="btn btn-primary ">Search</button>
    </form>

    <div class="space-y-8">
        {% for article in articles %}
            <div class="p-6 bg-base-200 rounded-lg shadow-xl border-t-8 border-primary outline-1 outline-base-300">
                <h2 class="text-2xl font-bold mb-2">
                    <a href="{% pageurl article %}" class="hover:text-primary">{{ article.title }}</a>
                </h2>
                <p class="text-base-content/70 mb-2">{{ article.date }}</p>
                <p>{{ article.introduction }}</p>
            </div>
        {% empty %}
            {% if query %}
                <p>No results for “{{ query }}”.</p>
            {% else %}
                <p>No articles yet.</p>
            {% endif %}
        {% endfor %}
    </div>

</section>

{% endblock %}
